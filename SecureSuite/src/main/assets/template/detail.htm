<!--
  ~ Copyright (c) 2017. Nuvolect LLC
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.
  ~
  -->

<html>

<head>
    <title>${display_name} - securesuite</title>

    <link href="/css/jquery-ui.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/ss_home.css" rel="stylesheet">
    <link href="/css/checkbox-x.css" rel="stylesheet">
    <link href="/css/themes/${theme}.css" rel="stylesheet" id="theme">

    <script src="/js/jquery-1.11.2.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/checkbox-x.js"></script>
    <script src="/js/ss.js"></script>
    <script src="/js/notify.js"></script>
    <script src="/js/instantedit.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
    <script>
        var baseUrl = 'detail_htm';
    </script>
</head>

<body>
<script>${notify_js}</script>

<div id="my_modal"></div>
<br>

<br>

<div class="container-fluid" style="padding-left:20px">

    <!-- Top row is icon and search form -->
    <div class="row">
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" align="center">
            <img src="/img/icon_64.png" alt=""/>
        </div>
        <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7" >
            <form action="" method="post">
                <div class="form-group">
                    <div class="input-group input-group-lg">
                        <input class="form-control" type="search" formmethod="post" id="search_field" value="${mSearch}">
                        <i id="clear-search" class="glyphicon glyphicon-remove"></i>
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-info" onclick="sendKeyElementId('search','search_field')">
                        <span class="glyphicon glyphicon-search"></span></button>
                </span>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" align="right">
            <!-- current account Split button -->
            <div class="btn-group">
                <button class="btn btn-transparent btn-md dropdown-toggle"
                        type="button" data-toggle="dropdown" aria-expanded="false">${account_ellipse}<span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" role="menu">
                    <!-- $BeginBlock account_select -->
                    <li><a href="javascript:void(0)" onclick="post('list_htm','account=${account_select}')">${account_select}</a></li>
                    <!-- $EndBlock account_select -->
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" onclick="post('logout_htm','')">LOGOUT</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!--    <hr class="hr.grey">-->
    <!-- App select drop-down, left set of pull-downs, right set of pull-downs -->
    <div class="row">
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
            <!-- Split button -->
            <div class="btn-group">
                <button class="btn btn-transparent btn-lg dropdown-toggle"
                        type="button" data-toggle="dropdown" aria-expanded="false">
                    Contacts <span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="javascript:void(0)" onclick="post('list_htm','')">Contacts</a></li>
                    <li><a href="javascript:void(0)" onclick="injectModal('/files/password_modal_filled.htm')">Passwords</a></li>
                </ul>
            </div>
        </div>
        <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 ">
            <button class="btn btn-default" onclick="post('list_htm','');" >
                <span class="glyphicon glyphicon-arrow-left"></span>
            </button>
            <div class="btn-group">
                <button class="btn btn-default"
                        onclick="post('detail_htm','link=NIL');"
                        >
                    <span class="glyphicon glyphicon-refresh"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" role="menu">
                </ul>
            </div>
            <!-- Pull down Groups menu -->
            <div class="btn-group">
                <button class="btn btn-default btn-sm dropdown-toggle" type="button"
                        data-toggle="dropdown" aria-expanded="false">Groups<span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" role="menu" style="padding:5px 5px">
                    <!-- $BeginBlock group_select -->
                    <li onclick="post('detail_htm','cb_group_id=${cb_group_id}')">
                        <input id="cb_${cb_group_id}" ${value_code} data-toggle="checkbox-x" data-size="md">
                        <label class="cbx-label medium" for="cb_${cb_group_id}">${group_select_title}</label>
                    </li>
                    <!-- $EndBlock group_select -->
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" onclick="newGroup('detail_htm')" >Create new</a></li>
                </ul>
            </div>
            <!--<button class="btn btn-default ${email_state}" onclick="post('detail_htm','link=email');" >-->
            <!--<span class="glyphicon glyphicon-envelope"></span>-->
            <!--</button>-->

            <div class="btn-group hidden-print" id="more_menu">
                <button  class="btn btn-default btn-sm dropdown-toggle"  type="button"
                         data-toggle="dropdown" aria-expanded="false">More<span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="javascript:void(0)" onclick="post('list_htm','delete_1_contact=${contact_id}')" >Delete contact</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=username')"     >Add username</a></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=password')"     >Add password</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=phoneticname')" >Add phonetic name</a></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=nickname')"     >Add nickname</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=date')"         >Add date</a></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=website')"      >Add website</a></li>
                    <li><a href="javascript:void(0)" onclick="post('detail_htm','add=relation')"     >Add relationship</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" onclick="postSamePage('detail_htm','export_contact=${contact_id}')">Export contact</a></li>
                    <li><a href="javascript:void(0)" onclick="printPage()"                           >Print...</a></li>
                </ul>
            </div>
        </div>
        <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 text-right">
            <div class="btn-group">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <span class="glyphicon glyphicon-wrench"></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" role="menu">

                    <li><a href="javascript:void(0)" class="spacing" data-spacing="comfortable"   >Comfortable</a></li>
                    <li><a href="javascript:void(0)" class="spacing" data-spacing="cozy"          >Cozy</a></li>
                    <li><a href="javascript:void(0)" class="spacing" data-spacing="compact"       >Compact</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)" class="theme" data-theme="grey_squares"         >Grey squares</a></li>
                    <li><a href="javascript:void(0)" class="theme" data-theme="blue_wheat"           >Blue wheat</a></li>
                    <li><a href="javascript:void(0)" class="theme" data-theme="earth_hex"            >Earth hex</a></li>
                    <li><a href="javascript:void(0)" class="theme" data-theme="matrix"               >Matrix</a></li>
                    <li class="divider"></li>
                    <!--<li><a href="javascript:void(0)" onclick="post('detail_htm','link=settings')" >Settings</a></li>-->
                    <li><a href="https://nuvolect.com/securesuite_help" target="_blank"              >Help</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Left column with App select button, accounts, new contact and groups -->
    <div class="row">
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2" id="side-nav">

            <button class="btn btn-default"
                    onclick="post('detail_htm','link=new_contact');">NEW CONTACT</button>

            <p></p>
            <a href="" onclick="post('list_htm','link=all_in_account')">${all_in_account}</a><br>
            <a href="" onclick="post('list_htm','link=starred_in_account')">${starred_in_account}</a><br>
            <!-- $BeginBlock group_item -->
            <a href="" onclick="post('list_htm','group_id=${group_id}')">${group_title}</a><br>
            <!-- $EndBlock group_item -->
            <p></p>
            <p>
                <a href="javascript:void(0)" onclick="newGroup('detail_htm')"                >New Group...</a> <br>
                <a href="javascript:void(0)" onclick="post('detail_htm','link=delete_group')">Delete Group</a>
            </p>
        </div>
        <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
            <div class="panel panel-default" id="main-panel">
                <div class="row">
                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                        <a href="javascript:void(0)" onclick="post('detail_htm','link=contact_photo')">
                            <img src="${contact_photo}" class="img-responsive img-thumbnail contact-photo"></a>
                    </div>
                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                        <h3>
                            <span id="full_name" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${full_name_placeholder}" >${full_name}</span>
                        </h3>

                        <!-- $BeginBlock nickname_block -->
                        <span id="nickname" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${nickname_placeholder}">${nickname}</span>
                        <br>
                        <!-- $EndBlock nickname_block -->

                        <!-- $BeginBlock phonetic_block -->
                        <ul class="list-inline">
                            <li><span id="phonetic_given"  class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${phonetic_given_placeholder}" >${phonetic_given}</span></li>
                            <li><span id="phonetic_middle" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${phonetic_middle_placeholder}">${phonetic_middle}</span></li>
                            <li><span id="phonetic_family" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${phonetic_family_placeholder}">${phonetic_family}</span></li>
                        </ul>
                        <!-- $EndBlock phonetic_block -->

                        <span id="title" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${title_placeholder}">${title}</span>,
                        <span id="organization" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${organization_placeholder}">${organization}</span>

                        <ul class="list-inline">
                            <li id="item_${contact_id}">
                            <span class="glyphicon ${star_icon}" style="font-size:150%;"
                                  onclick="starUpdate(${contact_id},${star_state},'item_star=${contact_id}');"></span>
                            </li>
                            <!-- $BeginBlock contact_group -->
                            <li>
                                <span class="label label-group" style="font-size:100%; font-weight:normal; padding:0em">${contact_group_title}</span>
                            </li>
                            <!-- $EndBlock contact_group -->
                        </ul>
                    </div>
                </div>

                <div class="row" id="contact-info">
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="panel-body table-responsive">
                            <table class="table table-condensed fll table-nowrap" background-color="#0ff00">
                                <tbody>
                                <!-- $BeginBlock email -->
                                <tr>
                                    <td align="right"><span id="${id_l}" class="editText" title="Click to edit!" style="cursor: pointer; font-size:75%; color:grey;">${email_cat}</span></td>
                                    <td><span id="${id_v}" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="Enter email" >${email_value}</span></td>
                                    <td><span onclick="post('detail_htm','delete=email&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                    <td><a href="mailto:${email_value}" target="_blank"><span class="glyphicon glyphicon-envelope"></span></a></td>
                                </tr>
                                <!-- $EndBlock email -->
                                <!-- $BeginBlock email_post -->
                                <tr>
                                    <td></td>
                                    <td><span style="color:grey; font-size:75%" onclick="post('detail_htm','add=email')">Add email</span></td>
                                </tr>
                                <!-- $EndBlock email_post -->

                                <!-- $BeginBlock phone -->
                                <tr>
                                    <td align="right"><span id="${id_l}" class="editText" title="Click to edit!" style="cursor: pointer; font-size:75%; color:grey;">${phone_cat}</span></td>
                                    <td><span id="${id_v}" class="editText" title="Click to edit!" style="cursor: pointer;">${phone_value}</span></td>
                                    <td><span onclick="post('detail_htm','delete=phone&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                </tr>
                                <!-- $EndBlock phone -->
                                <!-- $BeginBlock phone_post -->
                                <tr>
                                    <td></td>
                                    <td><span style="color:grey; font-size:75%" onclick="post('detail_htm','add=phone')">Add phone</span></td>
                                </tr>
                                <!-- $EndBlock phone_post -->

                                <!-- $BeginBlock address -->
                                <tr>
                                    <td align="right"><span id="${id_l}" class="editText" title="Click to edit!" style="cursor: pointer; font-size:75%; color:grey;">${address_cat}</span></td>
                                    <td><span id="${id_v}" class="editText multiline" title="Click to edit!" style="cursor: pointer;" data-placeholder="Enter address" >${address_value}</span></td>
                                    <td><span onclick="post('detail_htm','delete=address&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                    <td><a href="http://maps.google.com/?q=${address_uri_value}" target="_blank"><span class="glyphicon glyphicon-map-marker"></span></a></td>
                                </tr>
                                <!-- $EndBlock address -->
                                <!-- $BeginBlock address_post -->
                                <tr>
                                    <td></td>
                                    <td><span style="color:grey; font-size:75%" onclick="post('detail_htm','add=address')">Add address</span></td>
                                </tr>
                                <!-- $EndBlock address_post -->

                                <!-- $BeginBlock website -->
                                <tr>
                                    <td align="right"><span id="${id_l}" class="editText" title="Click to edit!" style="cursor: pointer; font-size:75%; color:grey;">${website_cat}</span></td>
                                    <td><span id="${id_v}" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="Enter website" >${website_value}</span></td>
                                    <td><span onclick="post('detail_htm','delete=website&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                    <td><a href="${website_http_value}" target="_blank"><span class="glyphicon glyphicon-link"></span></a></td>
                                <tr>
                                    <!-- $EndBlock website -->
                                    <!-- $BeginBlock website_post -->
                                    <td></td>
                                    <td><span style="color:grey; font-size:75%" onclick="post('detail_htm','add=website')">Add website</span></td>
                                </tr>
                                <!-- $EndBlock website_post -->

                                <!-- $BeginBlock username_block -->
                                <tr>
                                    <td align="right" style="cursor: pointer; font-size:75%; color:grey;">Username</td>
                                    <td><span id="username" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${username_placeholder}">${username}</span></td>
                                    <td><span onclick="post('detail_htm','delete=username&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                    <td><a href="javascript:void(0)" onclick="copyToClipboard('username')"><span class="glyphicon glyphicon-copy"></span></a></td>
                                </tr>
                                <!-- $EndBlock username_block -->

                                <!-- $BeginBlock password_block -->
                                <tr>
                                    <td align="right"><a href="javascript:void(0)" style="cursor: pointer; text-decoration: underline; font-size:75%; color:grey;" onclick="openPasswordModal(this)">Password</a></td>
                                    <td><span id="password" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="${password_placeholder}">${password}</span></td>
                                    <td><span onclick="post('detail_htm','delete=password&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                    <td><a href="javascript:void(0)" onclick="copyToClipboard('password')"><span class="glyphicon glyphicon-copy"></span></a></td>
                                </tr>
                                <!-- $EndBlock password_block -->

                                <!-- $BeginBlock date -->
                                <tr>
                                    <td align="right"><span id="${id_l}" class="editText" title="Click to edit!" style="cursor: pointer; font-size:75%; color:grey;">${date_cat}</span></td>
                                    <td><span id="${id_v}" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="Enter date" >${date_value}</span></td>
                                    <td><span onclick="post('detail_htm','delete=date&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                <tr>
                                    <!-- $EndBlock date -->
                                    <!-- $BeginBlock date_post -->
                                <tr>
                                    <td></td>
                                    <td><span style="color:grey; font-size:75%" onclick="post('detail_htm','add=date')">Add date</span></td>
                                </tr>
                                <!-- $EndBlock date_post -->

                                <!-- $BeginBlock relation -->
                                <tr>
                                    <td align="right"><span id="${id_l}" class="editText" title="Click to edit!" style="cursor: pointer; font-size:75%; color:grey;">${relation_cat}</span></td>
                                    <td><span id="${id_v}" class="editText" title="Click to edit!" style="cursor: pointer;" data-placeholder="Enter relationship">${relation_value}</span></td>
                                    <td><span onclick="post('detail_htm','delete=relation&index=${del_i}');" style="cursor: pointer;" class="glyphicon glyphicon-trash"/></td>
                                <tr>
                                    <!-- $EndBlock relation -->
                                    <!-- $BeginBlock relation_post -->
                                <tr>
                                    <td></td>
                                    <td><span style="color:grey; font-size:75%" onclick="post('detail_htm','add=relation')">Add relationship</span></td>
                                </tr>
                                <!-- $EndBlock relation_post -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Notes</h3>
                            </div>
                            <div class="panel-body">
                                <p>
                                    <span id="note" class="editText multiline" title="Click to edit!" style="cursor: pointer;" data-placeholder="${note_placeholder}">${note}</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" align="center">
        <p>
            &copy;
            <script>
            var d = new Date();
            document.write(d.getFullYear());
        </script>
            Nuvolect LLC -
            <a href="https://nuvolect.com/securesuite_terms/" target="_blank">Terms</a>
            -
            <a href="https://nuvolect.com/privacy/" target="_blank">Privacy</a>
            -
            <a href="https://nuvolect.com/securesuite_help/" target="_blank">Help</a>
        </p>
    </div>
</div>

<script>
    var full_name_placeholder       = '${full_name_placeholder}';
    var note_placeholder            = '${note_placeholder}';
    var nickname_placeholder        = '${nickname_placeholder}';
	var organization_placeholder    = '${organization_placeholder}';
	var password_placeholder        = '${password_placeholder}';
	var phonetic_given_placeholder  = '${phonetic_given_placeholder}';
	var phonetic_middle_placeholder = '${phonetic_middle_placeholder}';
	var phonetic_family_placeholder = '${phonetic_family_placeholder}';
	var title_placeholder           = '${title_placeholder}';
	var username_placeholder        = '${username_placeholder}';
</script>
</body>
</html>
